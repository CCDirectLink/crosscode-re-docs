# Location

Theoretically, this is a structure that's part of AnimationSheet.

However, it gets partially automatically generated by AnimationSheet, and the results are complex enough that it's simpler to describe how this works and then describe AnimationSheet in that context.

Furthermore, any editor for AnimationSheets will need a CrossCode-accurate renderer.

# Format Notes

An Animation is expected to be given a TileSheet and a JSON object.

The result is then a displayable single animation for a single direction, without additives.

Note that while this is incredibly long, most of the properties are optional.

# Format

```
{
 "frames": <One tile index for each frame. -1 means 'invisible' - this is not affected by tileOffset / direction tile offsets>,
 "framesAlpha": <Optional. Array of numbers - one per frame - which controls alpha>,
 "time": <Optional. Number - the amount of time per frame, defaulting to 0.1 seconds>,
 "repeat": <Optional boolean, defaulting to false - true if the animation repeats itself>,
 "shapeType": <
  Optional. If not present, defaults to "NO_EXPAND".
  Seems to control how the 2D image is mapped into the 3D world, presumably affecting sorting order or offset calculation?
  Valid values are:
   "NO_EXPAND", "Y_EXPAND", "Z_EXPAND", "YZ_EXPAND", "Y_FLAT", "Z_FLAT".
  >,
 "pivot": <Optional. The centre of the animation - by default, the centre of a sheet tile, but otherwise, a Vec2>,
 "centerPivot": <Optional. A boolean that controls something I don't understand, defaults to false>,
 "guiSprites": <Optional. A boolean that controls something I don't understand, defaults to false>,
 "wallY": <Optional number that controls something I don't understand, defaults to 0>,
 "aboveZ": <Optional number that controls something I don't understand, defaults to not changing stuff>,
 "renderMode": <Optional IDK (possibly Canvas render mode)>,
 "globalTiming": <Optional boolean IDK, defaults to false>,
 "faceRotate": <Optional boolean IDK, defaults to false>,
 "tileOffset": <Optional integer which is used by AnimationSheet to apply tileOffsets, offsets sprite index>,
 "offset": <Optional. Vec3, defaulting to zero>,
 "framesSpriteOffset": <Optional. Array of numbers, *three* per frame. These offset offset.>,
 "size": <Optional. Vec3, defaults to not doing anything>,
 "gfxOffset": <Optional. Vec2, defaulting to zero>,
 "framesGfxOffset": <Optional. Array of numbers, *two* per frame. These offset gfxOffset.>,
 "flipX": <Optional. Boolean, defaulting to false. AnimationSheet sets this based on things described there>,
 "framesFlipX": <Optional. Array of booleans, one per frame, which, if present, re-flips the image when on>,
 "flipY": <Optional. Boolean, defaulting to false. AnimationSheet sets this based on things described there>,
 "angle": <Optional. Number, defaulting to 0>,
 "framesAngle": <Optional. Array of numbers - one per frame - which, if present, offsets the angle>,
 "fx": <Optional. Theoretically part of a SPRITE_FX framework, but in practice only one is valid.
  As such, the format of entries is:
  {
   "type": "SLIDE",
   "dir": <Optional: One of "NORTH", "SOUTH", "EAST", "WEST" - defaults to "EAST" if lookup fails>,
   "start": <Optional number, defaults to 0>,
   "end": <Optional number, defaults to 0>,
   "keySpline": <KeySpline type>
  }
 >
}
```

# Examples

None. Large subsets of the keys appear in AnimationSheets, so check that for examples.
